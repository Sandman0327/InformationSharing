<!DOCTYPE html>
<!--suppress ALL-->
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}+'--LeDao资源分享平台'"></title>
    <link rel="short icon" th:href="@{/static/images/favicon.ico}">
    <link rel="stylesheet" th:href="@{/static/layui/css/layui.css}">
    <script type="text/javascript" th:src="@{/static/layui/layui.js}"></script>
    <script src="https://g.alicdn.com/AWSC/AWSC/awsc.js"></script>
    <script>
        layui.use('element', function () {
            var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块
            //监听导航点击
            element.on('nav(demo)', function (elem) {
                //console.log(elem)
                layer.msg(elem.text());
            });
        });
    </script>
    <!--阿里云右划验证-->
    <script>
        // 实例化nc
        AWSC.use("nc", function (state, module) {
            // 初始化
            window.nc = module.init({
                // 应用类型标识。它和使用场景标识（scene字段）一起决定了滑动验证的业务场景与后端对应使用的策略模型。您可以在人机验证控制台的配置管理页签找到对应的appkey字段值，请务必正确填写。
                appkey: "CF_APP_1",
                //使用场景标识。它和应用类型标识（appkey字段）一起决定了滑动验证的业务场景与后端对应使用的策略模型。您可以在人机验证控制台的配置管理页签找到对应的scene值，请务必正确填写。
                scene: "register",
                // 声明滑动验证需要渲染的目标ID。
                renderTo: "nc",
                //前端滑动验证通过时会触发该回调参数。您可以在该回调参数中将会话ID（sessionId）、签名串（sig）、请求唯一标识（token）字段记录下来，随业务请求一同发送至您的服务端调用验签。
                success: function (data) {
                    window.console && console.log(data.sessionId)
                    window.console && console.log(data.sig)
                    window.console && console.log(data.token)
                    document.getElementById("loginCheck").value = 1;
                },
                // 滑动验证失败时触发该回调参数。
                fail: function (failCode) {
                    window.console && console.log(failCode)
                },
                // 验证码加载出现异常时触发该回调参数。
                error: function (errorCode) {
                    window.console && console.log(errorCode)
                }
            });
        })
    </script>
    <!--获取验证码倒计时-->
    <script type="text/javascript">

        //倒计时
        var countdown = 60;

        function setTime(val) {
            if (countdown == 0) {
                val.removeAttribute("disabled");
                val.className = 'obtain generate_code layui-btn layui-btn-warm';
                val.value = "获取验证码";
                countdown = 60;
                return false;
            } else {
                val.setAttribute("disabled", true);
                val.className = 'obtain generate_code layui-btn layui-btn-warm layui-btn-disabled';
                val.value = "重新发送(" + countdown + ")";
                countdown--;
            }
            setTimeout(function () {
                setTime(val);
            }, 1000);
        }
    </script>
</head>
<body>
<div class="layui-container">
    <div th:include="common/head::#h"></div>
    <div th:include="${mainPage}::${mainPageKey}"></div>
    <div th:include="common/foot::#f"></div>
</div>
</body>
</html>